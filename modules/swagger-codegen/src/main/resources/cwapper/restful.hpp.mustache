/*
{{{appDescription}}}
                        Please DO NOT edit this file
*/

#ifndef __RESTFUL_HPP
#define __RESTFUL_HPP

#include "cwapper.hpp"

{{#models}}
{{#model}}
typedef boost::property_tree::ptree {{name}};
{{/model}}
{{/models}}

namespace cwapper {
    class restful: public cppcms::application {
    public:
        restful(cppcms::service &);

{{#x-cwapper}}
{{#operations}}
        virtual {{#returnType}}{{returnType}}{{^returnSimpleType}}<{{returnBaseType}}>{{/returnSimpleType}}{{/returnType}}{{^returnType}}void{{/returnType}} {{operationId}}({{#allParams}}{{dataType}}{{#isListContainer}}<{{baseType}}>{{/isListContainer}} {{paramName}}{{#hasMore}}, {{/hasMore}}{{/allParams}});
{{/operations}}
{{/x-cwapper}}

    private:
{{#x-cwapper}}
        void {{fid}}({{#pathParams}}std::string {{paramName}}{{#hasMore}}, {{/hasMore}}{{/pathParams}});
{{/x-cwapper}}

        template <typename T>
            void result(const T&);

        void result(const boost::property_tree::ptree&);
        
        std::vector<boost::property_tree::ptree> array(boost::property_tree::ptree);
        boost::property_tree::ptree body();
        cwapper::parameter parameter(std::string);
        cwapper::parameter parameter(std::string, std::string);
        cwapper::parameter header(std::string);
        void CORS();
        void __api__();
    };
}

#endif
